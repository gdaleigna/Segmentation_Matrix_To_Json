import numpy as np
import random
import time

start_time = time.time()

# CLASS

class SegmentationMatrix:
    def __init__(self, x, y, z, mode):
        self.x = x
        self.y = y
        self.z = z
        self.mode = mode
        self.segmentationMatrix = np.zeros((z, x, y, mode))

    def copyMatrixFromNumpyArray(cls, numpyArray):
        if numpyArray.ndim == 4:
            x = np.shape(numpyArray)[1]
            y = np.shape(numpyArray)[2]
            z = np.shape(numpyArray)[0]
            mode = np.shape(numpyArray)[3]
            segmentationMatrix = numpyArray
            return cls(segmentationMatrix)

    def generateRandomSegmentation(self):
        for i in range(0, self.z):
            for j in range(0, self.x):
                for k in range(0, self.y):
                    self.segmentationMatrix[i][j][k][0] = 1 if random.randint(0, 3) == 1 else 0

    def displayMatrix(self):
        print("Segmentation Size is ", self.x, "x", self.y, " with ", self.z, "image(s) and ", self.mode, " mode(s).")
        for i in range(0, self.z):
            for j in range(0, self.x):
                for k in range(0, self.y):
                    if self.segmentationMatrix[i][j][k][0] > 0:
                        print(int(self.segmentationMatrix[i][j][k][0]), end='')
                    else:
                        print(".", end='')

                    print(" ", end='')

                print()
            print()


# MAIN

segmentationMatrix = np.zeros((3, 4, 4, 1))
testSeg = SegmentationMatrix.copyMatrixFromNumpyArray(segmentationMatrix)
testSeg.displayMatrix()

# newSeg = SegmentationMatrix(12, 12, 5, 2)
# newSeg.generateRandomSegmentation()
# newSeg.displayMatrix()

# TIMER
print("--- %s seconds ---" % (time.time() - start_time))

